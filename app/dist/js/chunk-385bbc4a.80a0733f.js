(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-385bbc4a"],{"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),i=a("2d00"),s=r("species");e.exports=function(e){return i>=51||!n((function(){var t=[],a=t.constructor={};return a[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2d67":function(e,t,a){"use strict";var n=a("5b2e"),r=a.n(n);r.a},"41f8":function(e,t,a){},"54f3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bar-placeholder"})},r=[],i=(a("6a0c"),a("2877")),s={},o=Object(i["a"])(s,n,r,!1,null,"362f6c93",null);t["a"]=o.exports},"561e":function(e,t,a){},"57da":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Bar",{attrs:{page:0}}),e.show_input?a("Input",{attrs:{ingredients:e.ingredients},on:{searchRecipes:e.findRecipes,ingredientAdded:e.addIngredient,ingredientDropped:e.dropIngredient}}):e._e(),e.show_filters?a("Filters"):e._e(),a("Sort",{attrs:{show:e.show_sort}}),a("div",{staticClass:"accordion sticky-top",attrs:{id:"accordionExample"}},[e._m(0),a("div",{staticClass:"collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordionExample"}},[a("div",{staticClass:"card-body d-flex flex-wrap"},[e._l(e.ingredients,(function(t){return a("span",{key:t,staticClass:"badge badge-pill badge-secondary"},[a("h6",[e._v(e._s(t.name))])])})),a("span",{staticClass:"badge badge-pill badge-primary",attrs:{"data-toggle":"modal","data-target":"#inputModal"}},[a("svg",{staticClass:"bi bi-three-dots",attrs:{width:"2em",height:"2em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}})]),e._v(" Input ")]),a("div",{staticClass:"w-100"}),a("span",{staticClass:"badge badge-pill badge-primary",attrs:{"data-toggle":"modal","data-target":"#filtersModal"}},[a("svg",{staticClass:"bi bi-filter",attrs:{width:"2em",height:"2em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"}})]),e._v(" Filter ")]),a("div",{staticClass:"w-100"}),a("span",{staticClass:"badge badge-pill badge-primary",attrs:{"data-toggle":"modal","data-target":"#sortModal"},on:{click:function(t){e.show_sort=!0}}},[a("svg",{staticClass:"bi bi-sort-down",attrs:{width:"2em",height:"2em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M3 2a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-1 0v-10A.5.5 0 0 1 3 2z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M5.354 10.146a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L3 11.793l1.646-1.647a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 9a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"}})]),e._v(" Sort ")])],2)])]),e.show_recipes?a("Recipes",{attrs:{recipes:e.recipes,ingredients:e.ingredients}}):e._e(),a("Placeholder")],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[a("h2",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link btn-block text-left",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[a("h2",[e._v("Search")])])])])])}],i=(a("a434"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("7338")),s=a.n(i),o=a("fddd"),c=a("54f3"),d=function(){return a.e("chunk-7c50dc96").then(a.bind(null,"ac1d"))},l=function(){return a.e("chunk-6543b8b8").then(a.bind(null,"2097"))},u=function(){return a.e("chunk-26eb251e").then(a.bind(null,"da2e"))},p=function(){return a.e("chunk-2d221fc9").then(a.bind(null,"cd4f"))},f={name:"Search",components:{Bar:o["a"],Recipes:d,Filters:u,Input:l,Sort:p,Placeholder:c["a"]},data:function(){return{show_input:!1,show_recipes:!1,show_filters:!1,show_sort:!1,ingredients:["apples","flour","sugar"],recipes:[],search_params:{sort:"max-used-ingredients",direction:"asc",offset:0},intolerances:[],diet:""}},computed:{productParams:function(){var e=new URLSearchParams;return e.append("code",this.code),e},ingredientsParams:function(){for(var e="",t=0;t<this.ingredients.length;t++)e+=0===t?this.ingredients[t].name:",+"+this.ingredients[t].name;var a=new URLSearchParams;return a.append("ingredients",e),a.append("intolerances",""),a.append("diet",""),a.append("sort",this.search_params.sort),a.append("direction",this.search_params.direction),a.append("offset",this.search_params.offset),console.log(a),a}},mounted:function(){this.loadData()},methods:{addIngredient:function(e){var t=this;document.db.ingredients.add({name:e}).then((function(e){document.db.ingredients.get(e,(function(e){t.ingredients.push(e)}))}))},dropIngredient:function(e){var t=this.ingredients[e];this.ingredients.splice(e,1),document.db.ingredients.delete(t.id)},findRecipes:function(){var e=this;this.recipes=[],s.a.get("api/recipes",{params:this.ingredientsParams}).then((function(t){e.recipes=t.data.results,console.log(t.data),document.db.recipes.clear();for(var a=[],n=0;n<e.recipes.length;n++)a.push({recipe:JSON.stringify(e.recipes[n])});document.db.recipes.bulkAdd(a)}))},loadData:function(){var e=this;console.log("Load Data"),console.log(document.db),document.db.ingredients.toArray().then((function(t){e.ingredients=t})),document.db.recipes.toArray().then((function(t){for(var a=0;a<t.length;a++)e.recipes.push(JSON.parse(t[a].recipe))})),document.db.intolerances.toArray().then((function(t){for(var a=0;a<t.length;a++)e.intolerances.push(t[a].intolerance)}))}}},h=f,g=(a("ecaf"),a("2877")),b=Object(g["a"])(h,n,r,!1,null,"28eb1b29",null);t["default"]=b.exports},"5b2e":function(e,t,a){},"65f0":function(e,t,a){var n=a("861d"),r=a("e8b5"),i=a("b622"),s=i("species");e.exports=function(e,t){var a;return r(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"6a0c":function(e,t,a){"use strict";var n=a("561e"),r=a.n(n);r.a},a434:function(e,t,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),s=a("50c4"),o=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=a("ae40"),p=l("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,g=Math.min,b=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!f},{splice:function(e,t){var a,n,l,u,p,f,v=o(this),w=s(v.length),_=r(e,w),C=arguments.length;if(0===C?a=n=0:1===C?(a=0,n=w-_):(a=C-2,n=g(h(i(t),0),w-_)),w+a-n>b)throw TypeError(m);for(l=c(v,n),u=0;u<n;u++)p=_+u,p in v&&d(l,u,v[p]);if(l.length=n,a<n){for(u=_;u<w-n;u++)p=u+n,f=u+a,p in v?v[f]=v[p]:delete v[f];for(u=w;u>w-n+a;u--)delete v[u-1]}else if(a>n)for(u=w-n;u>_;u--)p=u+n-1,f=u+a-1,p in v?v[f]=v[p]:delete v[f];for(u=0;u<a;u++)v[u+_]=arguments[u+2];return v.length=w-n+a,l}})},ae40:function(e,t,a){var n=a("83ab"),r=a("d039"),i=a("5135"),s=Object.defineProperty,o={},c=function(e){throw e};e.exports=function(e,t){if(i(o,e))return o[e];t||(t={});var a=[][e],d=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:c,u=i(t,1)?t[1]:void 0;return o[e]=!!a&&!r((function(){if(d&&!n)return!0;var e={length:-1};d?s(e,1,{enumerable:!0,get:c}):e[1]=1,a.call(e,l,u)}))}},b0c0:function(e,t,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,s=i.toString,o=/^\s*function ([^ (]*)/,c="name";n&&!(c in i)&&r(i,c,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ecaf:function(e,t,a){"use strict";var n=a("41f8"),r=a.n(n);r.a},fddd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card shadow p-3 mb-5 bg-white rounded-pill fixed-bottom"},[a("ul",{staticClass:"nav nav-fill nav-pills"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link rounded-pill",class:{active:0==e.page},attrs:{to:{name:"home"}}},[e._v("Home")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link rounded-pill",class:{active:1==e.page},attrs:{to:{name:"profile"}}},[e._v("Profile")])],1)])])},r=[],i=(a("a9e3"),{name:"Bar",props:{page:Number}}),s=i,o=(a("2d67"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"2d1f957a",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-385bbc4a.80a0733f.js.map