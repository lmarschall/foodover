<%- include('partials/header.html') %>

<div id="searchframe">

  <ul class="list-group list-group-flush">
    <li class="list-group-item" v-for="ingredient in ingredients">${ingredient}</li>
  </ul>

  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary" v-on:click="startScan" data-toggle="modal" data-target="#exampleModal">
    Scan
  </button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <video v-if="scan" id="video" width="300" height="200" style="border: 1px solid gray"></video>
          <label>Result:</label>
          <pre><code id="result"></code></pre>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" v-on:click="resetScan" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" v-on:click="saveScan" data-dismiss="modal">Save changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary" v-on:click="" data-toggle="modal" data-target="#inputModal">
    Input
  </button>

  <!-- Modal -->
  <div class="modal fade" id="inputModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="input-group">
            <!-- <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1">@</span>
            </div> -->
            <input type="text" class="form-control" placeholder="Username" aria-label="Username"
              aria-describedby="basic-addon1" disabled>
          </div>

          <div class="input-group">
            <input type="text" id="input_ingredient" class="form-control" placeholder="Recipient's username"
              aria-label="Recipient's username" aria-describedby="basic-addon2">
            <!-- <div class="input-group-append">
              <span class="input-group-text" id="basic-addon2">@example.com</span>
            </div> -->
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" v-on:click="" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" v-on:click="addIngredient" data-dismiss="modal">Save
            changes</button>
        </div>
      </div>
    </div>
  </div>

  <button type="button" class="btn btn-primary" v-on:click="findRecipes">
    Search for recipes
  </button>

  <ul class="list-group list-group-flush">
    <li class="list-group-item" v-for="recipe in recipes"><a v-bind:href="'/recipe?id='+ recipe.id">${recipe.title}</a>
    </li>
  </ul>
</div>

<%- include('partials/scripts.html') %>
<%- include('partials/bar.html') %>

<script type="text/javascript" src="https://unpkg.com/@zxing/library@latest"></script>
<script src='/js/search.js' type='text/javascript'></script>

<%- include('partials/footer.html') %>